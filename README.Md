# FOODON
[![Build Status](https://travis-ci.org/FoodOntology/foodon.svg?branch=master)](https://travis-ci.org/FoodOntology/foodon)

Our [FoodOn project home page](http://foodontology.github.io/foodon/) introduces FoodOn and its design and community.

FoodOn is initially based on a conversion of the LanguaL.org food indexing thesaurus, integrated with OBOFoundry ontology terms from UBERON, ChEBI, and NCBITaxon and others.  This approach allows  LanguaL(tm)'s thesaurus file to be updated over time, and the owl file to be updated as needed.  

Contact Us

* Join our [mailing list](https://groups.google.com/forum/#!forum/foodon-consortium/join)
* Online discussion about FoodOn terms is at the [issue tracker](https://github.com/FoodOntology/foodon/issues).
* Documentation coming soon at the [wiki page](https://github.com/FoodOntology/foodon/wiki)
* Email us at info[at]genepio.org

##To view

Briefly, the foodon_core.owl main file currently contains everything FoodOn has to offer except for an indexed food product database. foodon_siren.owl has such a database included in it - over 9,000 foods from the FDA SIREN indexed food database, imported from LanguaL.org. (Currently foodon.owl is identical to foodon_core.owl).  

You can look at either file using in Protege or another OWL ontology editor.  It should import the ncbitaxon_import.owl and other imports/ files too.  Use Stanford's free [Protege](http://protege.stanford.edu) ontology editor to load the main file, and browse the Langual hierarchy under the "Classes" tab.  It should also be viewable on https://www.ebi.ac.uk/ols/ soon too.

##To edit

The /src/ontology/foodon-edit.owl and many /src/ontology/imports/ files can be edited using Protege or by hand.  Note however that the uberon, ncbitaxon, and chebi ontofox .txt specification files are actually generated from templates in the /src/ontology/imports/langual/ folder, so add to those templates if you want additions to uberon, ncbitaxon and chebi to survive another future import of LanguaL updated terms.

##To regenerate the files

foodon.owl is generated by the make command when one is in the /src/ontology/ folder.  

To redo the LanguaL  LanguaL2014.XML file import, first issue a "python langual.py" command when in the /src/ontology/imports/langual/ folder. This compares the XML file's contents to the database.json import control data structure, adds new content and state information to the json database, and then writes the OWL file as well as an OntoFox compatible /src/ontology/imports/ncbitaxon_ontofox.txt , uberon_ontofox.txt, chebi_ontofox.txt files.  The database.json file holds a representation of the LanguaL XML file contents, along with value overrides.  It is created with some input from lookup.txt, which maps certain LanguaL entries over to their equivalents in other OBOFoundry ontologies; these overrides are then added to the template .txt files to create the /imports/ folder OntoFox files.  A "make" command consults OntoFox to convert those files into .owl import files.

Then change directory to the "/src/ontology" folder, and run "make".  That will fetch the ontofox updates if need be, producing new XYZ_import.owl files. 
  
langual.py may need a few python modules loaded up.  It can take a number of minutes to generate
if database.json is already established; it will take much longer to run if database.json has been
deleted since it fetches NCBITaxon related information using the EOL.org API (in batches)
